name = "rsshub"
main = "dist-worker/worker.mjs"
compatibility_date = "2025-06-17"
compatibility_flags = ["nodejs_compat"]

# Serve static assets from lib/assets
assets = { directory = "lib/assets" }

# Find additional modules in dist-worker
[[rules]]
type = "ESModule"
globs = ["dist-worker/**/*.mjs"]

# Workers Paid plan is recommended for better performance
# Free plan has 10ms CPU time limit per request
# Paid plan has 30s CPU time limit per request

[observability]
enabled = true

# Browser Rendering API for puppeteer support
# Requires Workers Paid plan
[browser]
binding = "BROWSER"

# KV namespace for caching (auto-provisioned on first deploy)
[[kv_namespaces]]
binding = "CACHE"

[vars]
# Environment variables can be set here or via wrangler secret
# DEBUG_INFO = "false"

# For production, use wrangler secret put <KEY> to set sensitive values
# Example secrets:
# - ACCESS_KEY
# - GITHUB_ACCESS_TOKEN
# - etc.
